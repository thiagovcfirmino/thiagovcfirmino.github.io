import{j as s,m as c,a as P}from"./createLucideIcon.CyPHmFJx.js";import{r as g}from"./index.CC6F48bw.js";import{a as T,C as b,b as v,c as w,d as k,g as R,e as S,h as F,B as u,S as z,f as N,G as A,i as E}from"./card.BHMBcgDH.js";import{u as G,G as L,A as B,F as D}from"./projectsStore.B01RFGhG.js";import{s as H}from"./site.config.FVhQihOn.js";import{B as f}from"./button.DuN0DZSj.js";import{S as a}from"./skeleton.D4AyshpS.js";import{T as o,b as d,d as m,e as x}from"./tooltip.BK2I9s0h.js";import{A as M}from"./arrow-right.Kw3KnbSq.js";import{G as I}from"./github.3uNVC4nF.js";import"./middleware.CsEsK0Mx.js";import"./index.B30dMmXi.js";import"./index.CdzOqBcL.js";import"./index.Bi3pt8iF.js";const y=6;function O(){return s.jsxs(b,{className:"h-full flex flex-col animate-pulse bg-card/50 backdrop-blur-sm rounded-[14px]",children:[s.jsxs(v,{className:"pb-3",children:[s.jsxs("div",{className:"flex justify-between items-start gap-2",children:[s.jsx(a,{className:"h-6 w-3/4"}),s.jsx(a,{className:"h-4 w-4 rounded-full"})]}),s.jsx(a,{className:"h-4 w-full mt-2"}),s.jsx(a,{className:"h-4 w-4/5 mt-1"})]}),s.jsxs(w,{className:"flex-1 pt-2 space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx(a,{className:"h-5 w-16 rounded-full"}),s.jsx(a,{className:"h-5 w-20 rounded-full"})]}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx(a,{className:"h-4 w-12"}),s.jsx(a,{className:"h-4 w-12"}),s.jsx(a,{className:"h-4 w-16 ml-auto"})]})]}),s.jsxs(k,{className:"border-t border-border/30 pt-3 pb-4 px-6 gap-2",children:[s.jsx(a,{className:"h-8 flex-1 rounded-md"}),s.jsx(a,{className:"h-8 flex-1 rounded-md"})]})]})}function U({repo:e,index:i}){const h=R(e.language),n=e.homepage||`${e.html_url}#readme`;return s.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:i*.05,duration:.3},className:"h-full",children:s.jsxs(b,{className:P("h-full flex flex-col transition-all duration-300 rounded-[14px]","hover:shadow-xl hover:shadow-primary/5 hover:-translate-y-1","border-border/50 bg-card/50 backdrop-blur-sm","ring-offset-background","hover:border-primary/50",e.archived&&"opacity-70"),children:[s.jsxs(v,{className:"pb-3",children:[s.jsxs(S,{className:"flex justify-between items-start gap-2",children:[s.jsx("span",{className:"break-words font-bold tracking-tight text-lg leading-tight",children:e.name}),s.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[e.fork&&s.jsx(o,{children:s.jsxs(d,{children:[s.jsx(m,{children:s.jsx(L,{className:"h-3.5 w-3.5 text-muted-foreground"})}),s.jsx(x,{children:"Forked repository"})]})}),e.archived&&s.jsx(o,{children:s.jsxs(d,{children:[s.jsx(m,{children:s.jsx(B,{className:"h-3.5 w-3.5 text-muted-foreground"})}),s.jsx(x,{children:"Archived repository"})]})})]})]}),s.jsx(F,{className:"text-sm pt-2 min-h-[3rem] line-clamp-2 text-muted-foreground/90 leading-relaxed",children:e.description||"No description available"})]}),s.jsxs(w,{className:"flex-1 pt-2 space-y-3",children:[s.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[e.language&&s.jsxs(u,{variant:"secondary",className:"font-normal gap-1.5 pr-2.5 text-xs",children:[s.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:h}}),e.language]}),e.topics?.slice(0,2).map(l=>s.jsx(u,{variant:"outline",className:"font-normal text-xs",children:l},l)),(e.topics?.length||0)>2&&s.jsxs(u,{variant:"outline",className:"font-normal text-xs",children:["+",e.topics.length-2]})]}),s.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[s.jsx(o,{children:s.jsxs(d,{children:[s.jsxs(m,{className:"flex items-center gap-1 hover:text-yellow-500 transition-colors",children:[s.jsx(z,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:N(e.stargazers_count)})]}),s.jsxs(x,{children:[e.stargazers_count.toLocaleString()," stars"]})]})}),s.jsx(o,{children:s.jsxs(d,{children:[s.jsxs(m,{className:"flex items-center gap-1 hover:text-blue-500 transition-colors",children:[s.jsx(A,{className:"h-3.5 w-3.5"}),s.jsx("span",{children:N(e.forks_count)})]}),s.jsxs(x,{children:[e.forks_count.toLocaleString()," forks"]})]})}),s.jsx("span",{className:"ml-auto text-[10px] uppercase tracking-wider opacity-70",children:E(e.updated_at)})]})]}),s.jsxs(k,{className:"pt-3 pb-4 px-6 border-t border-border/30 gap-2 flex-wrap",children:[s.jsx(f,{variant:"default",size:"sm",className:"flex-1 min-w-[100px] gap-2 text-xs",asChild:!0,children:s.jsxs("a",{href:e.html_url,target:"_blank",rel:"noopener noreferrer",onClick:l=>l.stopPropagation(),children:[s.jsx(I,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:"GitHub"}),s.jsx("span",{className:"sm:hidden",children:"Code"})]})}),s.jsx(f,{variant:"outline",size:"sm",className:"flex-1 min-w-[100px] gap-2 text-xs",asChild:!0,children:s.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",onClick:l=>l.stopPropagation(),children:[s.jsx(D,{className:"h-3.5 w-3.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Docs"}),s.jsx("span",{className:"sm:hidden",children:"Docs"})]})})]})]})})}function ts(){const{isLoading:e,error:i,setRepositories:h,setLoading:n,setError:l,setLastFetched:C,shouldRefetch:_,repositories:p}=G();g.useEffect(()=>{async function r(){if(!_()&&p.length>0){n(!1);return}n(!0);try{const t=await T(H.github.username);h(t),C(Date.now()),l(null)}catch(t){l(t instanceof Error?t.message:"Failed to fetch repositories")}finally{n(!1)}}r()},[]);const j=g.useMemo(()=>p.filter(r=>!r.fork&&!r.archived).sort((r,t)=>t.stargazers_count-r.stargazers_count).slice(0,y),[p]);return s.jsxs("div",{className:"space-y-8",children:[e&&s.jsx("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:y}).map((r,t)=>s.jsx(O,{},t))}),i&&!e&&s.jsx(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"rounded-lg bg-destructive/10 border border-destructive/20 p-4 text-center",children:s.jsx("p",{className:"text-destructive text-sm",children:i})}),!e&&!i&&j.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},className:"grid gap-4 sm:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:j.map((r,t)=>s.jsx(U,{repo:r,index:t},r.id))}),s.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex justify-center pt-4",children:s.jsx(f,{variant:"outline",size:"lg",className:"gap-2 group",asChild:!0,children:s.jsxs("a",{href:"/projects",children:["View All Projects",s.jsx(M,{className:"h-4 w-4 transition-transform group-hover:translate-x-1"})]})})})]}),!e&&!i&&j.length===0&&s.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"No projects available yet."})})]})}export{ts as Projects};
